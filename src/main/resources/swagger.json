{"swagger":"2.0","info":{"version":"all","title":"apospay_all"},"host":"172.20.238.58:80","paths":{"/api/FileUpload/UploadImage":{"post":{"tags":["FileUpload"],"summary":"上传图片","description":"请求详情\r\n\r\n    {\r\n        \"Files\": \"文件数组(文件格式：base64字符串)\",\r\n        \"FileType\": \"文件类型 Product:商品图片 Avatar:会员头像 Carousel:轮播图 Brand:品牌图片  Merchant:商户图片\",\r\n    }\r\n响应详情\r\n\r\n    {\r\n        \"data\": \"图片路径(格式：字符串数组)\"\r\n    }","operationId":"UploadImage","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"file","in":"body","required":false,"schema":{"$ref":"#/definitions/FileDto"}}],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"type":"string"}}}}}},"/api/Health":{"get":{"tags":["Health"],"summary":"","operationId":"Get","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/Health/Get1":{"get":{"tags":["Health"],"summary":"","operationId":"Get1","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/MerchantInformation/GetMerchantImageList":{"post":{"tags":["MerchantInformation"],"summary":"获取子商户要上传的资质图片","operationId":"GetMerchantImageList","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"shopId","in":"query","description":"门店Id","required":false,"type":"integer","format":"int64"},{"name":"merchantId","in":"query","description":"","required":false,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/MerchantImageDTO"}}}}}},"/api/MerchantInformation/GetMerchantInformationDTO":{"post":{"tags":["MerchantInformation"],"summary":"获取子商户注册信息","operationId":"GetMerchantInformationDTO","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"shopId","in":"query","description":"","required":false,"type":"integer","format":"int64"},{"name":"merchantId","in":"query","description":"","required":false,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/MerchantInformationDTO"}}}}},"/api/MerchantInformation/GetMerchantInformationList":{"post":{"tags":["MerchantInformation"],"summary":"获取子商户注册信息","operationId":"GetMerchantInformationList","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/SimpleMerchantInformationDTO"}}}}}},"/api/MerchantInformation/GetMerchantInformationPageList":{"post":{"tags":["MerchantInformation"],"summary":"获取子商户注册信息(分页)","operationId":"GetMerchantInformationPageList","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"search","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/MerchantInformationVO"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/PagedList[SimpleMerchantInformationDTO]"}}}}},"/api/MerchantInformation/UploadMerchantImage":{"post":{"tags":["MerchantInformation"],"summary":"子商户上传图片","operationId":"UploadMerchantImage","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"model","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/MerchantImageInfo"}}],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/MerchantInformation/RegisterMerchant":{"post":{"tags":["MerchantInformation"],"summary":"易宝子商户注册","operationId":"RegisterMerchant","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"model","in":"body","description":"注册信息","required":false,"schema":{"$ref":"#/definitions/MerchantInformationDTO"}}],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/MerchantInformation/RegisterMerchantCallBack":{"post":{"tags":["MerchantInformation"],"summary":"易宝子商户注册回调","operationId":"RegisterMerchantCallBack","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","description":"注册信息","required":false,"schema":{"$ref":"#/definitions/YeePayRegisterResultInfo"}}],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/MerchantInformation/RegisterMerchantSearch":{"post":{"tags":["MerchantInformation"],"summary":"易宝子商户注册查询","operationId":"RegisterMerchantSearch","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"shopId","in":"query","description":"","required":false,"type":"integer","format":"int64"},{"name":"merchantId","in":"query","description":"","required":false,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/MerchantInformation/ReportMerchant":{"post":{"tags":["MerchantInformation"],"summary":"易宝子商户报备","operationId":"ReportMerchant","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"shopId","in":"query","description":"","required":false,"type":"integer","format":"int64"},{"name":"merchantId","in":"query","description":"","required":false,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/MerchantInformation/ReportMerchantCallBack":{"post":{"tags":["MerchantInformation"],"summary":"易宝子商户注册回调","operationId":"ReportMerchantCallBack","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","description":"注册信息","required":false,"schema":{"$ref":"#/definitions/YeePayRegisterResultInfo"}}],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/MerchantInformation/ReportMerchantSearch":{"post":{"tags":["MerchantInformation"],"summary":"易宝子商户报备查询","operationId":"ReportMerchantSearch","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"shopId","in":"query","description":"","required":false,"type":"integer","format":"int64"},{"name":"merchantId","in":"query","description":"","required":false,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/MerchantInformation/ClearData":{"get":{"tags":["MerchantInformation"],"summary":"清理商户数据","operationId":"ClearData","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/PayRecord/GetPayRecordList":{"post":{"tags":["PayRecord"],"summary":"获取支付信息","operationId":"GetPayRecordList","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"businessId","in":"query","description":"","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/PayRecordDTO"}}}}}},"/api/PayRecord/PaymentPreCreate":{"post":{"tags":["PayRecord"],"summary":"生成支付链接","operationId":"PaymentPreCreate","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"CarrierId","in":"header","description":"载体Id","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"tradeRequest","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/PrePayRequest"}}],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/PayRecord/PaySubmit":{"post":{"tags":["PayRecord"],"summary":"提交支付请求","operationId":"PaySubmit","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"CarrierId","in":"header","description":"载体Id","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"tradeRequest","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/PaySubmit"}}],"responses":{"200":{"description":"Success","schema":{"format":"int32","enum":[0,1,2,3,5,7],"type":"integer"}}}}},"/api/PayRecord/PayReturn":{"post":{"tags":["PayRecord"],"summary":"提交退款请求","operationId":"PayReturn","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"CarrierId","in":"header","description":"载体Id","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"tradeRequest","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/PayRefund"}}],"responses":{"200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/PayRecord/PayStatusSearch":{"post":{"tags":["PayRecord"],"summary":"查询支付记录状态","operationId":"PayStatusSearch","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"CarrierId","in":"header","description":"载体Id","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"businessId","in":"query","description":"","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"format":"int32","enum":[0,1,2,3,5,7],"type":"integer"}}}}},"/api/PayRecord/CanclePaySubmit":{"post":{"tags":["PayRecord"],"summary":"取消支付请求","operationId":"CanclePaySubmit","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"CarrierId","in":"header","description":"载体Id","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"businessId","in":"query","description":"业务Id","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/PayRecord/PaymentCallback":{"post":{"tags":["PayRecord"],"summary":"支付回调","operationId":"PaymentCallback","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/GvtPaySearchResult"}}],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/PayRecord/OrderPayAdd":{"post":{"tags":["PayRecord"],"summary":"新增业务记录","operationId":"OrderPayAdd","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/OrderPayDTO"}}],"responses":{"200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/PayRecord/OrderPayChangedRecord":{"get":{"tags":["PayRecord"],"summary":"查询业务记录变更","operationId":"OrderPayChangedRecord","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"orderPayId","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/OrderPayChangedRecordDTO"}}}}}},"/api/PayRecord/GetPayRecordSyncList":{"post":{"tags":["PayRecord"],"summary":"获取支付信息","operationId":"GetPayRecordSyncList","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"businessId","in":"query","description":"","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/PayRecordSyncDto"}}}}}},"/api/ShopPayType/GetShopPayTypePageList":{"post":{"tags":["ShopPayType"],"summary":"支付方式列表(分页)","operationId":"GetShopPayTypePageList","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"search","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/ShopPayTypeVO"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/PagedList[ShopPayTypeDTO]"}}}}},"/api/ShopPayType/GetShopPayTypeList":{"post":{"tags":["ShopPayType"],"summary":"支付方式列表","operationId":"GetShopPayTypeList","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"CarrierId","in":"header","description":"载体Id","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"search","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/ShopPayTypeVO"}}],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/ShopPayTypeDTO"}}}}}},"/api/ShopPayType/GetThirdPayList":{"post":{"tags":["ShopPayType"],"summary":"第三方支付方式列表","operationId":"GetThirdPayList","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/ThirdPayDTO"}}}}}},"/api/ShopPayType/GetShopPayType":{"post":{"tags":["ShopPayType"],"summary":"加载支付方式编辑","operationId":"GetShopPayType","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"id","in":"query","description":"支付方式Id","required":false,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/ShopPayTypeDTO"}}}}},"/api/ShopPayType/Add":{"post":{"tags":["ShopPayType"],"summary":"添加支付方式","operationId":"Add","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"orderPaymentType","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/ShopPayTypeDTO"}}],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/ShopPayType/Update":{"post":{"tags":["ShopPayType"],"summary":"更改支付方式","description":" 请求参数： {\r\n  \"id\": 支付方式ID,\r\n  \"payment\": \"支付方式名称\",\r\n  \"PaymentType\": \"支付类型 0现金 2Supay 4其他\",\r\n  \"isActive\": 是否禁用true 禁用  false 启用,\r\n  \"isDefault\": 是否是默认支付方式,\r\n  \"shopId\": 门店ID,\r\n  \"shopName\": 门店名称,\r\n  \"merchantNo\": 商户编号,\r\n  \"rate\": 手续费率(百分比),\r\n  \"taxes\": 固定手续费金额,\r\n  \"serviceChargeType\": 手续费类型 0百分比 1固定,\r\n  \"costRate\": 成本手续费率(百分比),\r\n  \"costTaxes\": 成本固定手续费金额,\r\n  \"serviceChargeCostType\": 成本手续费类型 0百分比 1固定,\r\n  \"isUseTaxes\": 是否使用固定手续费 true 固定 false 百分比\r\n}","operationId":"Update","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"orderPaymentType","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/ShopPayTypeDTO"}}],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/ShopPayType/UpdateState":{"post":{"tags":["ShopPayType"],"summary":"更改支付方式状态","operationId":"UpdateState","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"id","in":"query","description":"支付方式Id","required":false,"type":"integer","format":"int64"},{"name":"state","in":"query","description":"true=删除","required":false,"type":"boolean"}],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/ShopPayType/UpdateBatch":{"post":{"tags":["ShopPayType"],"summary":"批量更改支付方式状态","description":"请求参数： {\"state\":1,\"idArray\":[支付方式1ID, 支付方式2ID]}","operationId":"UpdateBatch","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"search","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/ShopPayTypeVO"}}],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/Sync/TableData/{tableName}/{tenantId}":{"get":{"tags":["Sync"],"summary":"根据表名和tenant id获取数据","operationId":"GetTableDataByTenantId","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"tableName","in":"path","description":"","required":true,"type":"string"},{"name":"tenantId","in":"path","description":"","required":true,"type":"integer","format":"int64"},{"name":"pageSize","in":"query","description":"","required":false,"type":"integer","format":"int32","default":10},{"name":"pageIndex","in":"query","description":"","required":false,"type":"integer","format":"int32","default":1}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/PagedList[Object]"}}}}},"/api/Sync/SyncRecord":{"post":{"tags":["Sync"],"summary":"同步支付信息","operationId":"SyncRecord","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"datas","in":"body","required":false,"schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/UploadDataItem"}}}],"responses":{"200":{"description":"Success","schema":{"type":"boolean"}}}}},"/api/ThirdPartyConfiguration/ImportAreas":{"post":{"tags":["ThirdPartyConfiguration"],"summary":"省市区导入","operationId":"ImportAreas","consumes":["multipart/form-data"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"file","in":"formData","required":false,"type":"file"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/ImportResult"}}}}},"/api/ThirdPartyConfiguration/ImportBankCode":{"post":{"tags":["ThirdPartyConfiguration"],"summary":"银行编码导入","operationId":"ImportBankCode","consumes":["multipart/form-data"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"file","in":"formData","required":false,"type":"file"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/ImportResult"}}}}},"/api/ThirdPartyConfiguration/ImportMerchantClassify":{"post":{"tags":["ThirdPartyConfiguration"],"summary":"商户分类导入","operationId":"ImportMerchantClassify","consumes":["multipart/form-data"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"file","in":"formData","required":false,"type":"file"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/ImportResult"}}}}},"/api/ThirdPartyConfiguration/GetThirdPartyConfigTree":{"post":{"tags":["ThirdPartyConfiguration"],"summary":"获取第三方配置信息树","operationId":"GetThirdPartyConfigTree","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"treeType","in":"query","description":"","required":false,"type":"integer","format":"int32","enum":[1,2,3]}],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/EntityTree"}}}}}},"/api/ThirdPartyConfiguration/GetSupayInfo":{"post":{"tags":["ThirdPartyConfiguration"],"summary":"搞Supay信息","operationId":"GetSupayInfo","consumes":["multipart/form-data"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"file","in":"formData","required":false,"type":"file"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/ImportResult"}}}}},"/api/WechantMall/PaymentPreCreate":{"post":{"tags":["WechantMall"],"summary":"生成支付链接","operationId":"PaymentPreCreate","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"CarrierId","in":"header","description":"载体Id","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"tradeRequest","in":"body","description":"","required":false,"schema":{"$ref":"#/definitions/MallPrePayRequest"}}],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/WechantMall/PaySubmit":{"post":{"tags":["WechantMall"],"summary":"提交支付请求","operationId":"PaySubmit","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"CarrierId","in":"header","description":"载体Id","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"mallPaySubmitStr","in":"query","description":"","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"format":"int32","enum":[0,1,2,3,5,7],"type":"integer"}}}}},"/api/WechantMall/PayStatusSearch":{"post":{"tags":["WechantMall"],"summary":"查询支付记录状态","operationId":"PayStatusSearch","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"CarrierId","in":"header","description":"载体Id","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"businessId","in":"query","description":"订单ID","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"format":"int32","enum":[0,1,2,3,5,7],"type":"integer"}}}}},"/api/WechantMall/CanclePaySubmit":{"post":{"tags":["WechantMall"],"summary":"取消支付请求","operationId":"CanclePaySubmit","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"CarrierId","in":"header","description":"载体Id","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"},{"name":"businessId","in":"query","description":"业务Id","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"type":"string"}}}}},"/api/WechantMall/GetShopPayType":{"post":{"tags":["WechantMall"],"summary":"提交支付请求","operationId":"GetShopPayType","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"CarrierId","in":"header","description":"载体Id","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"token","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/ShopPayTypeDTO"}}}}}},"definitions":{"FileDto":{"description":"文件上传参数","type":"object","properties":{"files":{"description":"文件数组(文件格式：base64字符串)","uniqueItems":false,"type":"array","items":{"type":"string"}},"fileType":{"description":"文件类型 Product:商品图片 Avatar:会员头像 Carousel:轮播图","type":"string"}}},"MerchantImageDTO":{"description":"","type":"object","properties":{"id":{"description":"","type":"string"},"shopId":{"description":"APOS门店Id","type":"string"},"merchantId":{"format":"int64","description":"APOS商户Id","type":"integer"},"aptitudeImageName":{"description":"资质图片名称","type":"string"},"aptitudeImageEnumKey":{"description":"资质图片枚举名称","type":"string"},"aptitudeImageType":{"format":"int32","description":"企业资质图片枚举","enum":[1,2,3,4,5,6,7,8,91,92,93,94],"type":"integer"},"imageUrl":{"description":"图片URL","type":"string"},"yeePayImageUrl":{"description":"易宝图片URL","type":"string"}}},"MerchantInformationDTO":{"description":"","type":"object","properties":{"id":{"description":"","type":"string"},"merchantNo":{"description":"子商编","type":"string"},"parentMerchantNo":{"description":"主体商户号","type":"string"},"requestNo":{"description":"入网请求号","type":"string"},"merFullName":{"description":"商户全称","type":"string"},"merShortName":{"description":"商户简称","type":"string"},"merCertType":{"description":"证件类型：UNI_CREDIT_CODE=统一社会信用代码证\\CORP_CODE=营业执照","type":"string"},"merCertNo":{"description":"证件号","type":"string"},"legalName":{"description":"法人姓名","type":"string"},"merLegalPhone":{"description":"法人手机号","type":"string"},"legalIdCard":{"description":"法人身份证号","type":"string"},"merLevel1No":{"description":"商户一级分类","type":"string"},"merLevel2No":{"description":"商户二级分类","type":"string"},"merProvince":{"description":"经营地址所在省编码","type":"string"},"merCity":{"description":"经营地址所在市编码","type":"string"},"merDistrict":{"description":"经营地址所在区编码","type":"string"},"merAddress":{"description":"经营地址详细地址","type":"string"},"merContactName":{"description":"联系人姓名","type":"string"},"merContactPhone":{"description":"联系人手机号","type":"string"},"merContactEmail":{"description":"联系人邮箱","type":"string"},"taxRegistCert":{"description":"税务登记证编号","type":"string"},"accountLicense":{"description":"开户许可证编号","type":"string"},"orgCode":{"description":"组织机构代码证号","type":"string"},"isOrgCodeLong":{"description":"组织机构代码证是否长期有效：true false","type":"string"},"orgCodeExpiry":{"description":"组织机构代码证有效期，YYYY-MM-DD","type":"string"},"cardNo":{"description":"银行账号","type":"string"},"headBankCode":{"description":"开户行总行编码","type":"string"},"bankCode":{"description":"开户行支行编码,请求获取支行信息接口获取","type":"string"},"bankProvince":{"description":"开户行省编码","type":"string"},"bankCity":{"description":"开户行市编码","type":"string"},"subBankName":{"description":"支行名称","type":"string"},"fileInfo":{"description":"资质影印件","type":"string"},"businessFunction":{"description":"业务功能,开分账方时传","type":"string"},"notifyUrl":{"description":"回调地址","type":"string"},"merAuthorizeType":{"description":"授权类型，SMS_AUTHORIZE=短信授权\\WEB_AUTHORIZE=页面授权(默认 WEB_AUTHORIZE)","type":"string"},"feeRate":{"description":"手续费率","type":"string"},"isRegister":{"description":"是否注册","type":"boolean"},"returnInfo":{"description":"返回信息","type":"string"},"errMessage":{"description":"异常信息","type":"string"},"registerStatus":{"description":"注册状态","type":"string"},"createTime":{"format":"date-time","description":"创建时间","type":"string"},"serviceTel":{"description":"客服电话","type":"string"},"merchantType":{"format":"int32","description":"商户类型","enum":[1,2,3,4],"type":"integer"},"reportStatus":{"format":"int32","description":"报备状态","enum":[1,2,3],"type":"integer"},"shopId":{"format":"int64","description":"门店Id","type":"integer"},"merchantId":{"format":"int64","description":"APOS商户Id","type":"integer"},"gvtRoleId":{"format":"int64","description":"商家标示位(SystemRole的Id)","type":"integer"},"token":{"description":"加密字符串","type":"string"}}},"SimpleMerchantInformationDTO":{"description":"","type":"object","properties":{"parentMerchantNo":{"description":"主体商户号","type":"string"},"requestNo":{"description":"入网请求号","type":"string"},"merFullName":{"description":"商户全称","type":"string"},"merShortName":{"description":"商户简称","type":"string"},"returnInfo":{"description":"返回信息","type":"string"},"errMessage":{"description":"异常信息","type":"string"},"registerStatus":{"description":"注册状态","type":"string"},"reportStatus":{"description":"报备状态","type":"string"},"createTime":{"format":"date-time","description":"创建时间","type":"string"},"shopId":{"description":"门店Id","type":"string"},"merchantId":{"description":"APOS商户Id","type":"string"},"gvtRoleId":{"description":"商家标示位(SystemRole的Id)","type":"string"}}},"MerchantInformationVO":{"description":"","type":"object","properties":{"merchantName":{"description":"商户简称","type":"string"},"name":{"description":"名称","type":"string"},"pageIndex":{"format":"int32","description":"页码","type":"integer"},"pageSize":{"format":"int32","description":"页数","type":"integer"}}},"PagedList[SimpleMerchantInformationDTO]":{"type":"object","properties":{"dataSource":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/SimpleMerchantInformationDTO"}},"pageIndex":{"format":"int32","type":"integer"},"pagesCount":{"format":"int32","type":"integer"},"pageSize":{"format":"int32","type":"integer"},"recordsCount":{"format":"int32","type":"integer"}}},"MerchantImageInfo":{"description":"商户资质图片信息","type":"object","properties":{"shopId":{"format":"int64","description":"门店ID","type":"integer"},"merchantId":{"format":"int64","description":"商户ID","type":"integer"},"aptitudeImageType":{"format":"int32","description":"资质图片枚举","enum":[1,2,3,4,5,6,7,8,91,92,93,94],"type":"integer"},"imageContent":{"description":"图片内容","type":"string"}}},"YeePayRegisterResultInfo":{"description":"易宝回调实体","type":"object","properties":{"requestNo":{"description":"注册请求号","type":"string"},"registerStatus":{"description":"注册状态","type":"string"},"returnMessage":{"description":"注册返回信息","type":"string"}}},"PayRecordDTO":{"description":"","type":"object","properties":{"id":{"description":"","type":"string"},"serialNumber":{"format":"int32","description":"序号","type":"integer"},"shopPayTypeId":{"format":"int64","description":"支付Id","type":"integer"},"payType":{"format":"int32","description":"支付方式类型","enum":[0,4,6,8,10,14,66],"type":"integer"},"payName":{"description":"支付类型名称","type":"string"},"businessId":{"description":"业务记录Id","type":"string"},"businessType":{"format":"int32","description":"业务类型","enum":[1,2,4,6,8],"type":"integer"},"payStatus":{"format":"int32","description":"支付单状态","enum":[0,1,2,3,5,7],"type":"integer"},"inout":{"description":"出入账 True 入 False 出","type":"boolean"},"amount":{"format":"double","description":"支付金额","type":"number"},"serviceCharge":{"format":"double","description":"手续费","type":"number"},"costServiceCharge":{"format":"double","description":"成本手续费","type":"number"},"createOn":{"format":"date-time","description":"","type":"string"},"createBy":{"description":"","type":"string"},"updateOn":{"format":"date-time","description":"","type":"string"},"updateBy":{"description":"","type":"string"},"businessNum":{"description":"平台交易号","type":"string"}}},"PrePayRequest":{"description":"预支付请求(生成二维码)","type":"object","properties":{"gvtRoleId":{"format":"int64","description":"商家标示位(SystemRole的Id)","type":"integer"},"payType":{"format":"int32","description":"支付方式","enum":[0,1,3],"type":"integer"},"deviceType":{"format":"int32","description":"设备类型","enum":[1,2,3,4,5],"type":"integer"},"orderSaleType":{"format":"int32","description":"订单销售类型","enum":[1,2,3],"type":"integer"},"channelType":{"format":"int32","description":"渠道类型","enum":[0,1,2,3],"type":"integer"},"tradeNo":{"description":"用户系统交易单号(唯一)","type":"string"},"currency":{"description":"币种","type":"string"},"amount":{"format":"double","description":"交易金额","type":"number"},"proDesc":{"description":"商品描述","type":"string"},"token":{"description":"加密字符串","type":"string"},"returnPageUrl":{"description":"页面回调地址","type":"string"},"userPayCode":{"description":"用户付款码(B2C专用)","type":"string"},"divideDetail":{"description":"分账详情","type":"string"},"openId":{"description":"微信用户Id","type":"string"}}},"PaySubmit":{"description":"支付请求","type":"object","properties":{"businessId":{"description":"业务记录Id","type":"string"},"orderBarcode":{"description":"订单条码（会员支付显示需要）","type":"string"},"combinePayId":{"description":"组合支付ID","type":"string"},"businessType":{"format":"int32","description":"业务类型","enum":[1,2,4,6,8],"type":"integer"},"inout":{"description":"出入账 True 入 False 出","type":"boolean"},"operatorId":{"format":"int64","description":"操作人Id","type":"integer"},"payRecords":{"description":"","uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/PayRecordInfo"}},"changeInfo":{"$ref":"#/definitions/ChangeInfo","description":"找零信息"}}},"PayRecordInfo":{"description":"支付记录信息","type":"object","properties":{"serialNumber":{"format":"int32","description":"序号","type":"integer"},"shopPayTypeId":{"format":"int64","description":"支付方式Id","type":"integer"},"gvtPayType":{"format":"int32","description":"支付渠道","enum":[0,1,2],"type":"integer"},"userPayCode":{"description":"支付条码","type":"string"},"cardId":{"format":"int64","description":"会员ID","type":"integer"},"amount":{"format":"double","description":"支付金额","type":"number"},"serviceCharge":{"format":"double","description":"手续费","type":"number"},"costServiceCharge":{"format":"double","description":"成本手续费","type":"number"}}},"ChangeInfo":{"description":"找零信息","type":"object","properties":{"changeMoney":{"format":"double","description":"找零金额","type":"number"}}},"PayRefund":{"description":"退货请求","type":"object","properties":{"businessId":{"description":"业务记录Id","type":"string"},"orderBarcode":{"description":"订单条码（会员退货显示需要）","type":"string"},"srcBusinessId":{"description":"源业务记录Id(仅针对退货退款)","type":"string"},"businessType":{"format":"int32","description":"业务类型","enum":[1,2,4,6,8],"type":"integer"},"cardId":{"format":"int64","description":"会员ID","type":"integer"},"shopPayTypeId":{"format":"int64","description":"支付方式Id","type":"integer"},"inout":{"description":"出入账 True 入 False 出","type":"boolean"},"amount":{"format":"double","description":"支付金额","type":"number"},"serviceCharge":{"format":"double","description":"手续费","type":"number"},"costServiceCharge":{"format":"double","description":"成本手续费","type":"number"}}},"GvtPaySearchResult":{"description":"","type":"object","properties":{"tradeNo":{"description":"用户系统交易单号(唯一)","type":"string"},"businessNum":{"description":"支付平台交易单号","type":"string"},"status":{"format":"int32","description":"支付状态","enum":[0,1,2,3,5,7],"type":"integer"},"statusCn":{"description":"支付状态（描述）","type":"string"},"amount":{"format":"double","description":"交易金额","type":"number"}}},"OrderPayDTO":{"description":"","type":"object","properties":{"id":{"description":"业务Id","type":"string"},"businessType":{"format":"int32","description":"支付单类型","enum":[1,2,4,6,8],"type":"integer"},"payStatus":{"format":"int32","description":"支付单状态","enum":[0,1,2,3,5,7],"type":"integer"},"orderSaleType":{"format":"int32","description":"订单销售类型","enum":[1,2,3],"type":"integer"},"deviceType":{"format":"int32","description":"设备类型","enum":[1,2,3,4,5],"type":"integer"},"verifyCode":{"description":"校验码.创建的时候生成(Pos使用,为了支持离线)","type":"string"},"securityCode":{"description":"安全码","type":"string"},"authorization":{"description":"UMS加密字符串","type":"string"},"operatorId":{"format":"int64","description":"操作人Id","type":"integer"},"combinePayId":{"description":"组合支付ID","type":"string"}}},"OrderPayChangedRecordDTO":{"description":"","type":"object","properties":{"id":{"format":"int64","description":"","type":"integer"},"orderPayId":{"description":"业务记录Id","type":"string"},"payStatus":{"format":"int32","description":"支付单状态","enum":[0,1,2,3,5,7],"type":"integer"},"payStatusName":{"description":"支付单状态名称","type":"string"},"createOn":{"format":"date-time","description":"创建时间","type":"string"},"comment":{"description":"备注","type":"string"}}},"PayRecordSyncDto":{"description":"支付记录同步实体","type":"object","properties":{"id":{"format":"uuid","description":"","type":"string"},"versionNo":{"format":"int64","description":"","type":"integer"},"serialNumber":{"format":"int32","description":"序号","type":"integer"},"shopPayTypeId":{"format":"int64","description":"支付Id","type":"integer"},"payName":{"description":"支付类型名称","type":"string"},"businessId":{"description":"业务记录Id","type":"string"},"businessType":{"format":"int32","description":"业务类型","enum":[1,2,4,6,8],"type":"integer"},"inout":{"description":"出入账 True 入 False 出","type":"boolean"},"payStatus":{"format":"int32","description":"支付单状态","enum":[0,1,2,3,5,7],"type":"integer"},"amount":{"format":"double","description":"支付金额","type":"number"},"currency":{"description":"币种","type":"string"},"serviceCharge":{"format":"double","description":"手续费","type":"number"},"costServiceCharge":{"format":"double","description":"成本手续费","type":"number"},"createOn":{"format":"date-time","description":"","type":"string"},"createLocalOn":{"format":"date-time","description":"创建本地时间","type":"string"},"createBy":{"description":"","type":"string"},"updateOn":{"format":"date-time","description":"","type":"string"},"updateLocalOn":{"format":"date-time","description":"更新本地时间","type":"string"},"updateBy":{"description":"","type":"string"},"businessNum":{"description":"第三方平台交易号","type":"string"},"platformNum":{"description":"支付平台交易号(微信/支付宝)","type":"string"},"carrierId":{"description":"","type":"string"},"shopId":{"format":"int64","description":"","type":"integer"},"merchantId":{"format":"int64","description":"","type":"integer"}}},"ShopPayTypeVO":{"description":"门店支付方式查询条件","type":"object","properties":{"shopId":{"format":"int64","description":"门店Id","type":"integer"},"merchantId":{"format":"int64","description":"","type":"integer"},"state":{"description":"状态","type":"boolean"},"idArray":{"description":"","uniqueItems":false,"type":"array","items":{"format":"int64","type":"integer"}},"name":{"description":"名称","type":"string"},"pageIndex":{"format":"int32","description":"页码","type":"integer"},"pageSize":{"format":"int32","description":"页数","type":"integer"}}},"PagedList[ShopPayTypeDTO]":{"type":"object","properties":{"dataSource":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/ShopPayTypeDTO"}},"pageIndex":{"format":"int32","type":"integer"},"pagesCount":{"format":"int32","type":"integer"},"pageSize":{"format":"int32","type":"integer"},"recordsCount":{"format":"int32","type":"integer"}}},"ShopPayTypeDTO":{"description":"","type":"object","properties":{"id":{"description":"主键Id","type":"string"},"payName":{"description":"支付方式名称","type":"string"},"payType":{"format":"int32","description":"支付方式类型","enum":[0,4,6,8,10,14,66],"type":"integer"},"thirdPayId":{"description":"第三方支付Id","type":"string"},"isActive":{"description":"是否禁用","type":"boolean"},"isDefault":{"description":"默认支付方式","type":"boolean"},"merchantId":{"format":"int64","description":"商户Id","type":"integer"},"shopId":{"format":"int64","description":"门店Id","type":"integer"},"shopName":{"description":"门店名称","type":"string"},"createOn":{"format":"date-time","description":"创建时间","type":"string"},"rate":{"format":"double","description":"费率","type":"number"},"taxes":{"format":"double","description":"固定税费","type":"number"},"serviceChargeType":{"format":"int32","description":"手续费类型","enum":[0,1],"type":"integer"},"costRate":{"format":"double","description":"成本费率","type":"number"},"costTaxes":{"format":"double","description":"成本固定税费","type":"number"},"serviceChargeCostType":{"format":"int32","description":"手续费成本类型","enum":[0,1],"type":"integer"},"orderSaleType":{"format":"int32","description":"订单销售类型","enum":[1,2,3],"type":"integer"},"merchantNo":{"description":"支付平台给商家分配的商户号","type":"string"},"merchantAccount":{"description":"支付平台给商家分配的渠道号/账户号","type":"string"},"merchantSercret":{"description":"支付平台给商家分配的加密Key","type":"string"},"gvtPaymentRoleId":{"description":"支付系统的Id","type":"string"},"identifyCode":{"description":"支付系统加密Key","type":"string"},"createBy":{"description":"","type":"string"},"productSourceType":{"format":"int32","description":"商品来源","enum":[1,2],"type":"integer"},"deviceType":{"format":"int32","description":"设备类型","enum":[1,2,3,4,5],"type":"integer"}}},"ThirdPayDTO":{"description":"第三方支付","type":"object","properties":{"id":{"description":"","type":"string"},"thirdPayName":{"description":"第三方名称","type":"string"},"thirdPayType":{"format":"int32","description":"第三方支付方式类型","enum":[1,2,4,6],"type":"integer"},"deviceType":{"format":"int32","description":"设备类型","enum":[1,2,3,4,5],"type":"integer"},"imageUrl":{"description":"Logo图标","type":"string"},"isActive":{"description":"是否启用 true 启用，false 禁用","type":"boolean"}}},"PagedList[Object]":{"type":"object","properties":{"dataSource":{"uniqueItems":false,"type":"array","items":{"type":"object"}},"pageIndex":{"format":"int32","type":"integer"},"pagesCount":{"format":"int32","type":"integer"},"pageSize":{"format":"int32","type":"integer"},"recordsCount":{"format":"int32","type":"integer"}}},"UploadDataItem":{"description":"数据项","type":"object","properties":{"businessId":{"description":"业务Id","type":"string"},"operateType":{"format":"int32","description":"操作类型","enum":[1,2,3,4,5,6],"type":"integer"},"entityFullName":{"description":"实体全名","type":"string"},"dataContent":{"description":"数据内容.Json字符串","type":"string"}}},"ImportResult":{"description":"导入结果","type":"object","properties":{"message":{"description":"消息","type":"string"},"total":{"format":"int32","description":"总条数","type":"integer"},"successCount":{"format":"int32","description":"成功导入条数","type":"integer"},"failedCount":{"format":"int32","description":"失败条数","type":"integer"},"failedItem":{"description":"失败记录详情","uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/ImportItem"}}}},"ImportItem":{"description":"导入结果","type":"object","properties":{"row":{"format":"int32","description":"数据第几行","type":"integer"},"key":{"description":"主键","type":"string"},"message":{"description":"消息","type":"string"}}},"EntityTree":{"description":"","type":"object","properties":{"id":{"description":"Id","type":"string"},"label":{"description":"名称","type":"string"},"value":{"description":"编号","type":"string"},"parentId":{"description":"父级Id（Level = 1 时值为 0）","type":"string"},"parentName":{"description":"父级名称","type":"string"},"children":{"description":"子分类","uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/EntityTree"}}}},"MallPrePayRequest":{"description":"预支付请求(生成支付链接)","type":"object","properties":{"deviceType":{"format":"int32","description":"设备类型","enum":[1,2,3,4,5],"type":"integer"},"openId":{"description":"微信用户Id","type":"string"},"tradeNo":{"description":"用户系统交易单号(唯一)","type":"string"},"currency":{"description":"币种","type":"string"},"amount":{"format":"double","description":"交易金额","type":"number"},"proDesc":{"description":"商品描述","type":"string"},"token":{"description":"加密字符串","type":"string"},"returnPageUrl":{"description":"页面回调地址","type":"string"}}}}}